<div class="container-fluid mainFont" style="height: 100vh">
  <div class="row">
    <div class="col-lg-12 d-flex justify-content-start">
      <input type="date" #dateInput [value]="selectedDate"/>
    </div>
  </div>
  <div class="row ">
    <div class="col-lg-12 d-flex">
      <button class="weekSwitcherButton" (click)="changeWeekWithArrow(false)">
        <span class="material-symbols-outlined">arrow_back</span>
      </button>
      @for (day of days ; track $index) {
        <div class="container-fluid mx-3 d-flex flex-column">
          <div class="row align-items-center text-center days">
            <div class="col-lg-12">
              <p>{{ day.name }}</p>
            </div>
          </div>
          <div class="row align-items-center text-center request">
            <div class="col-lg-12" (click)="sendRequest($index, day.reservedHours)">
               <p>request</p>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-12 p-0 d-flex flex-column justify-content-center align-items-center lessonBox">
                @for (reservedHour of day.reservedHours; track $index) {
                  <div style="cursor: pointer;" class="lessonItem mb-3" (click)="selectDrivingLesson(reservedHour.drivingLessonId)">
                    <p class="text-center">Foglalt</p>
                    <p class="text-center" style="font-size: 15px;">{{reservedHour.startTime}} - {{reservedHour.endTime}}</p>
                  </div>
                }
            </div>
          </div>
        </div>
      }
      <button class="weekSwitcherButton" (click)="changeWeekWithArrow(true)">
        <span class="material-symbols-outlined">arrow_forward</span>
      </button>
    </div>
  </div>
</div>


@if (showEditor) {
  <app-driving-lesson-editor [drivingLesson]="selectedDrivingLesson" (close)="showEditor = false"/>
}

@if (showRequestContainer) {
  <app-request-container [selectedDate]="dateForRequest" [reservedHours]="selectedReservedHours" (close)="showRequestContainer = false"/>
}
