<div
  class="container-fluid d-flex justify-content-center align-content-center"
  style="height: 83vh"
>
  <div class="row">
    <div class="col-lg-12 d-flex justify-content-center align-items-center">
      <div id="mainContainer" class="container-fluid px-4 pt-5">
        <form
          [formGroup]="form"
          class="container-flud d-flex flex-column justify-content-between align-content-center"
        >
          <div class="row">
            <div class="col-lg-12">
              <div class="d-flex justify-content-between align-items-center">
                <div>
                  <h1 class="mainFont" style="font-size: 30px">
                    Elfelejtette jelszavát?
                  </h1>
                  <h5 class="secondFont" style="font-size: 20px">
                    Jelszó emlékeztető
                  </h5>
                </div>
                <div class="d-flex justify-content-start align-items-center">
                  <a routerLink="/login">
                    <button class="textButton">Vissza a bejelentkezéshez</button>
                  </a>
                </div>
              </div>
              <hr />
            </div>
          </div>


          <div style="height: 370px">
            <div class="row">
              <div class="col-lg-9">
                <input
                  type="text"
                  placeholder="Adja meg a fiokjához tartozó email címet"
                  formControlName="email"
                />
              </div>
              <div class="col-lg-3">
                <button
                  class="filledButton"
                  (click)="getCode()"
                  [disabled]="form.controls['email'].invalid"
                >
                  Kód küldése
                </button>
              </div>
            </div>

            <div class="row">
              <div class="col-lg-12">
                <input
                  type="text"
                  placeholder="Hitelesitő kód"
                  formControlName="verificationCode"
                  #vCodeInput
                  (input)="checkVCode(vCodeInput.value)"
                />
              </div>
            </div>

            @if (isCorrectVCode()) {
            <div class="row">
              <div class="col-lg-12">
                <input
                  [type]="isShowPassword() ? 'text' : 'password'"
                  formControlName="password"
                />
                <button
                  (click)="showPassword($event)"
                  [attr.aria-label]="'Hide password'"
                  [attr.aria-pressed]="isShowPassword()"
                >
                  <span class="material-symbols-outlined">{{
                    isShowPassword() ? "visibility" : "visibility_lock"
                  }}</span>
                </button>
              </div>
            </div>

            <div class="row">
              <div class="col-lg-12">
                <input
                  [type]="isShowPasswordAgain() ? 'text' : 'password'"
                  formControlName="passwordAgain"
                />
                <button
                  (click)="showPasswordAgain($event)"
                  [attr.aria-label]="'Hide password'"
                  [attr.aria-pressed]="isShowPassword()"
                >
                  <span class="material-symbols-outlined">{{
                    isShowPasswordAgain() ? "visibility" : "visibility_lock"
                  }}</span>
                </button>
              </div>
            </div>
            }
          </div>

          <div class="row">
            <div class="col-lg-12">
              <button
                class="w-100 filledButton"
                matButton="filled"
                [disabled]="form.invalid"
                (click)="sendReset(vCodeInput.value)"
              >
                Mentés
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
