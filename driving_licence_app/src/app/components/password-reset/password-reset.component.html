<div id="mainContainer" class="container-fluid d-flex justify-content-center align-content-center mainFont">
  <div class="row w-100">
    <div class="col-lg-12 d-flex justify-content-center align-items-center">


        <form id="secondContainer" [formGroup]="form" class="container-flud d-flex flex-column justify-content-between align-content-center">
          <div class="row">
            <div class="col-lg-12">
                <h1 class="mainFont text-lg-start text-center" style="font-size: 30px">Elfelejtette jelszavát?</h1>
                <h5 class="secondFont text-lg-start text-center" style="font-size: 20px">Jelszó emlékeztető</h5>
              <hr />
            </div>
          </div>

          <div class="h-100 d-flex flex-column">
            <div class="row mt-3 mb-4">
              <div class="col-lg-9 col-md-8 col-sm-8 col-7">
                <input class="w-100 px-3" type="text" placeholder="Adja meg a fiokjához tartozó email címet" formControlName="email"/>
              </div>
              <div class="col-lg-3 col-md-4 col-sm-4 col-5">
                <button class="filledButton w-100" (click)="getCode()"[disabled]="form.controls['email'].invalid">
                  KÜLDÉS
                </button>
              </div>
            </div>

            <div class="row mb-4">
              <div class="col-lg-12">
                <input type="text" class="w-100 px-3" placeholder="Hitelesitő kód" formControlName="verificationCode" #vCodeInput (input)="checkVCode(vCodeInput.value)"/>
              </div>
            </div>

            @if (isCorrectVCode()) {
            <div class="row mb-4">
              <div class="col-9">
                <input [type]="isShowPassword() ? 'text' : 'password'" formControlName="password" class="w-100 px-3" placeholder="Az új jelszó"/>
              </div>
              <div class="col-3">
                <button class="showButton w-100" (click)="showPassword($event)" >
                  <span class="material-symbols-outlined">
                    {{isShowPassword() ? "visibility" : "visibility_lock"}}
                  </span>
                </button>
              </div>
            </div>

            <div class="row">
              <div class="col-9">
                <input [type]="isShowPasswordAgain() ? 'text' : 'password'" formControlName="passwordAgain" class="w-100 px-3" placeholder="Az új jelszó újra"/>
              </div>
              <div class="col-3">
                <button class="showButton w-100" (click)="showPasswordAgain($event)">
                  <span class="material-symbols-outlined">
                    {{isShowPasswordAgain() ? "visibility" : "visibility_lock"}}
                  </span>
                </button>
              </div>
            </div>
            }
          </div>

          <div class="row">
            <div class="col-lg-12">
              <p routerLink="/login" class="text-lg-end text-center my-3">Vissza a bejelentkezéshez</p>
              <button class="w-100 filledButton" matButton="filled" [disabled]="form.invalid" (click)="sendReset(vCodeInput.value)">
                Mentés
              </button>
            </div>
          </div>
        </form>

    </div>
  </div>
</div>
